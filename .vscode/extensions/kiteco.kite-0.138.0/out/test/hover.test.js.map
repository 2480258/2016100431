{"version":3,"sources":["../external \"path\"","../external \"vscode\"","../external \"chai\"","../external \"kite-api\"","../external \"fs\"","../external \"kite-api/test/helpers/kite\"","../external \"kite-api/test/helpers/http\"",".././test/helpers.js",".././src/utils.js","../external \"child_process\"","../external \"os\"","../external \"kite-connector/lib/logger\"",".././src/urls.js","../external \"md5\"",".././test/hover.test.js",".././src/docs.ts",".././src/notifications.js","../external \"open\"",".././src/metrics.js","../external \"crypto\"","../external \"mixpanel\"",".././src/localconfig.js",".././src/data-utils.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"names":[],"mappings":";;;;;;;;AAAA,kC;;;;;;;;;;;;ACAA,oC;;;;;;ACAA,kC;;;;;;;ACAA,sC;;;;;;;;;ACAA,gC;;;;;;ACAA,wD;;;;;;ACAA,wD;;;;;;ACAa;;AAEb,aAAa,mBAAO,CAAC,CAAM;AAC3B,gBAAgB,mBAAO,CAAC,EAAU;AAClC,OAAO,wBAAwB,GAAG,mBAAO,CAAC,EAAc;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB,SAAS,IAAI;AACrD,OAAO;AACP,wBAAwB,gBAAgB,SAAS,EAAE;AACnD;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C,YAAY,OAAO,GAAG,KAAK,GAAG,cAAc;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9Fa;;AAEe;AACG;AACX;;AAEW;;AAE/B;AACA,SAAS,uDAAe;AACxB;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB,aAAa;AACnC,sBAAsB,aAAa;AACnC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,8EAAuC;;AAEzC;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI;AACP;;AAEA;AACA,KAAK,uDAAc;AACnB,kDAAkD;AAClD;AACA,MAAM,kDAAW;AACjB;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA,SAAS,kDAAW;AACpB;AACA,MAAM,8DAAY,iBAAiB,WAAW;AAC9C;AACA;AACA,MAAM,8DAAY,wCAAwC,WAAW;AACrE;AACA;AACA,MAAM,8DAAY,qBAAqB,WAAW;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AA8BE;;;;;;;AC9NF,2C;;;;;;ACAA,gC;;;;;;;ACAA,uD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAa;AACe;AACN;;AAES;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,sCAAsC;AACtD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,gBAAgB,OAAO;AACvB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,sCAAsC;AACtD;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,sCAAsC;AACtD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,4CAAI;;AAErB;AACA;;AAEA;AACA,8BAA8B,GA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;AACA;AACA,YAAY,2CAAI;AAChB,YAAY,mDAAa;AACzB;AACA;AACA,OAAO;AACP;;AAEA;AACA,IAAI,mDAAa;AACjB,IAAI,2EACyB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAI;AAChB;AACA;AACA,OAAO;AACP;;AAEA;AACA,IAAI,mDAAa;AACjB,IAAI,qEACmB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAI;AAChB,YAAY,mDAAa;AACzB;AACA;AACA,OAAO;AACP;AACA;;;;;;;ACzJA,kC;;;;;;;;;;;;;;;;;;;;;;;ACAa;;AAEO;AACQ;AACA;AACI;;AAEe;AACJ;AACgC;AACxB;;AAEnD,mBAAmB,8CAAO,WAAW,iDAAU;;AAE/C,oBAAoB,6DAAoB;;AAExC;;AAEA,iBAAiB,oDAAa;AAC9B;AACA,CAAC;;AAED;AACA;AACA,WAAW,wDAAe;AAC1B;AACA;AACA,wBAAwB,yDAAkB;AAC1C,IAAI,wDAAe;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oEAA6B;;AAE5C,SAAS,iEAAyB;AAClC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,yDAAkB;;AAEjC,EAAE,sEAAY;;AAEd,SAAS,iEAAyB;AAClC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,8BAA8B,KAAK;AACnC;;AAEA;AACA,8BAA8B,KAAK;AACnC;;AAEA;AACA,UAAU,kDAAW;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,MAAM;AACpC;AACA;;AAEA;AACA;AACA;AACA,eAAe,8CAAO;AACtB,kBAAkB,iDAAU;AAC5B;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH,CAAC,EAAC;;;;;;;AC3HF,oC;;;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","file":"hover.test.js","sourcesContent":["module.exports = require(\"path\");;","module.exports = require(\"vscode\");;","module.exports = require(\"chai\");;","module.exports = require(\"kite-api\");;","module.exports = require(\"fs\");;","module.exports = require(\"kite-api/test/helpers/kite\");;","module.exports = require(\"kite-api/test/helpers/http\");;","\"use strict\";\n\nconst path = require(\"path\");\nconst KiteAPI = require(\"kite-api\");\nconst { promisifyReadResponse } = require(\"../src/utils\");\n\nconst Kite = {\n  request(req, data) {\n    return KiteAPI.request(req, data).then(resp => promisifyReadResponse(resp));\n  }\n};\n\nfunction waitsFor(m, f, t, i) {\n  if (typeof m == \"function\" && typeof f != \"function\") {\n    i = t;\n    t = f;\n    f = m;\n    m = \"something to happen\";\n  }\n\n  const intervalTime = i || 10;\n  const timeoutDuration = t || 2000;\n\n  return new Promise((resolve, reject) => {\n    const interval = setInterval(() => {\n      const res = f();\n      if (res) {\n        if (res.then) {\n          res.then(\n            () => {\n              clearTimeout(timeout);\n              clearInterval(interval);\n              resolve();\n            },\n            err => {}\n          );\n        } else {\n          clearTimeout(timeout);\n          clearInterval(interval);\n          resolve();\n        }\n      }\n    }, intervalTime);\n\n    const timeout = setTimeout(() => {\n      clearInterval(interval);\n      let msg;\n      if (typeof m == \"function\") {\n        msg = `Waited ${timeoutDuration}ms for ${m()}`;\n      } else {\n        msg = `Waited ${timeoutDuration}ms for ${m} but nothing happened`;\n      }\n      reject(new Error(msg));\n    }, timeoutDuration);\n  });\n}\n\nfunction sleep(duration) {\n  const t = new Date();\n  return waitsFor(`${duration}ms`, () => {\n    return new Date() - t > duration;\n  });\n}\n\nfunction delay(duration, block) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      block();\n      resolve();\n    }, duration);\n  });\n}\n\nfunction fixtureURI(filepath) {\n  return path.resolve(__dirname, \"fixtures\", filepath);\n}\n\nfunction log(v) {\n  console.log(v);\n  return v;\n}\n\nfunction formatCall({ method, path, payload }) {\n  return `${method} ${path} ${payload || \"\"}`;\n}\n\nmodule.exports = {\n  sleep,\n  delay,\n  fixtureURI,\n  waitsFor,\n  Kite,\n  log,\n  formatCall\n};\n","'use strict';\n\nimport vscode from 'vscode';\nimport cp from 'child_process';\nimport os from 'os';\n\nimport KiteAPI from \"kite-api\";\n\nfunction promisifiedKiteAPIRequest(req, data) {\n  return KiteAPI.request(req, data).then(resp => promisifyReadResponse(resp));\n};\n\nconst compact = a => a.filter(v => v && v !== '');\n\nconst uniq = a => a.reduce((m, v) => m.indexOf(v) === -1 ? m.concat(v) : m, []);\n\nconst flatten = a =>\n  a.reduce((m, o) => m.concat(Array.isArray(o) ? flatten(o) : o), []);\n\nconst head = a => a[0];\nconst last = a => a[a.length - 1];\nconst log = v => (console.log(v), v);\n\nconst evalPath = (o, ...path) =>\n  path.reduce((m, k) => {\n    if (k === '*' && m) { k = head(Object.keys(m)); }\n    return m && typeof m[k] !== 'undefined' ? m[k] : undefined;\n  }, o);\n\nconst detailLang = o =>\n  o && o.language_details\n    ? head(Object.keys(o.language_details)).toLowerCase()\n    : 'python';\n\nconst detailGet = (o, ...k) => evalPath(o, 'language_details', '*', ...k);\n\nconst detailExist = (o, ...k) => detailGet(o, ...k) != null;\n\nconst detailNotEmpty = (o, ...k) => {\n  const v = detailGet(o, ...k);\n  return v != null && v.length > 0;\n};\n\nconst getDetails = (o, ...details) =>\n  o.detail || (o.details && details.reduce((m, k) => {\n    return m || o.details[k];\n  }, null));\n\nconst getFunctionDetails = (o) => {\n  const type = head(Object.keys(o.details).filter(k => o.details[k]));\n  if (type === 'function') {\n    return o.details.function;\n  } else if (type === 'type') {\n    return detailGet(o.details.type, 'constructor');\n  }\n\n  return null;\n};\n\nconst merge = (a, b) => {\n  const c = {};\n  for (const k in a) { c[k] = a[k]; }\n  for (const k in b) { c[k] = b[k]; }\n  return c;\n};\n\nconst stripTags = s => s.replace(/<[^>]+>/g, '');\n\nconst truncate = (s, l = 200) =>\n  s && s.length > l\n    ? s.slice(0, l) + '…'\n    : s;\n\nfunction parseJSON(data, fallback) {\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return fallback;\n  }\n}\n\n// get time in seconds since the date\nfunction secondsSince(when) {\n  var now = new Date();\n  return (now.getTime() - when.getTime()) / 1000.0;\n}\n\nfunction promisifyRequest(request) {\n  return request.then\n    ? request\n    : new Promise((resolve, reject) => {\n      request.on('response', resp => resolve(resp));\n      request.on('error', err => reject(err));\n    });\n}\n\nfunction promisifyReadResponse(response) {\n  return new Promise((resolve, reject) => {\n    let data = '';\n    response.on('data', chunk => data += chunk);\n    response.on('end', () => resolve(data));\n    response.on('error', err => reject(err));\n  });\n}\n\nfunction delayPromise(factory, timeout) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      factory().then(resolve, reject);\n    }, timeout);\n  });\n}\n\nconst stopPropagationAndDefault = f => function(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  return f && f.call(this, e);\n};\n\nconst editorsForDocument = document =>\n  vscode.window.visibleTextEditors.filter(e => e.document === document);\n\nfunction params (url) {\n  return url.query.split('&').reduce((m, p) => {\n    const [k,v] = p.split('=');\n    m[k] = v;\n    return m;\n  }, {});\n}\n\nconst escapeCommandArguments = (o) => {\n  if(vscode.version < \"1.30.0\") {\n    return JSON.stringify(o).replace(/\"/g, '&quot;');\n  }\n  if (os.platform() == 'win32') {\n    return JSON.stringify(o).replace(/\\\\\\\\/g, \"/\");\n  }\n  return JSON.stringify(o);\n};\n\nconst kiteOpen = (url) => {\n  const env = Object.assign({}, process.env);\n  delete env[\"ELECTRON_RUN_AS_NODE\"];\n  switch(os.platform()) {\n    case 'darwin':\n      cp.spawnSync(\"open\", [url], { env: env });\n      break;\n    case 'win32':\n      cp.spawnSync(\"cmd\", [\"/b\", \"/c\", \"start\",\"\", url], { env: env });\n      break;\n    case 'linux':\n      cp.spawnSync(\"xdg-open\", [url], { env: env });\n  }\n};\n\nconst extToLangMap = new Map([\n  [\"c\", \"c\"],\n  [\"cc\",\"cpp\"],\n  [\"cpp\",\"cpp\"],\n  [\"cs\",\"csharp\"],\n  [\"css\",\"css\"],\n  [\"go\",\"go\"],\n  [\"h\",\"c\"],\n  [\"hpp\",\"cpp\"],\n  [\"html\",\"html\"],\n  [\"java\", \"java\"],\n  [\"js\", \"javascript\"],\n  [\"jsx\",\"jsx\"],\n  [\"kt\",\"kotlin\"],\n  [\"less\",\"less\"],\n  [\"m\",\"objectivec\"],\n  [\"php\", \"php\"],\n  [\"py\", \"python\"],\n  [\"pyw\", \"python\"],\n  [\"rb\",\"ruby\"],\n  [\"scala\",\"scala\"],\n  [\"sh\",\"bash\"],\n  [\"ts\",\"typescript\"],\n  [\"tsx\",\"tsx\"],\n  [\"vue\",\"vue\"],\n]);\n\nconst getSupportedLanguage = document => {\n  if (document.isUntitled) {\n    return null;\n  }\n\n  const ext = document.fileName.split(\".\").slice(-1)[0];\n  if (extToLangMap.has(ext)) {\n    return extToLangMap.get(ext);\n  }\n  return null;\n};\n\nexport {\n  compact,\n  delayPromise,\n  flatten,\n  head,\n  last,\n  log,\n  escapeCommandArguments,\n  detailExist,\n  detailGet,\n  detailLang,\n  detailNotEmpty,\n  parseJSON,\n  promisifyReadResponse,\n  promisifyRequest,\n  secondsSince,\n  promisifiedKiteAPIRequest,\n  stopPropagationAndDefault,\n  truncate,\n  uniq,\n  stripTags,\n  editorsForDocument,\n  params,\n  merge,\n  getDetails,\n  getFunctionDetails,\n  kiteOpen,\n  getSupportedLanguage,\n};\n","module.exports = require(\"child_process\");;","module.exports = require(\"os\");;","module.exports = require(\"kite-connector/lib/logger\");;","'use strict';\nimport vscode from 'vscode';\nimport md5 from 'md5';\n\nimport { head } from './utils';\n\nfunction metricsCounterPath() {\n  return '/clientapi/metrics/counters';\n}\n\nfunction metricsCompletionSelectedPath() {\n  return '/clientapi/metrics/completions/selected';\n}\n\nfunction languagesPath() {\n  return '/clientapi/languages';\n}\n\nfunction accountPath() {\n  return '/api/account/user';\n}\n\nfunction statusPath(path) {\n  return [\n    '/clientapi/status',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction signaturePath() {\n  return '/clientapi/editor/signatures';\n}\n\nfunction searchPath(query, offset = 0, limit = 10) {\n  return [\n    '/api/editor/search',\n    [\n      `q=${encodeURI(query)}`,\n      `offset=${offset}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction projectDirPath(path) {\n  return [\n    '/clientapi/projectdir',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction shouldNotifyPath(path) {\n  return [\n    '/clientapi/permissions/notify',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction settingsPath(key) {\n  return '/clientapi/settings/' + key;\n}\n\nfunction completionsPath() {\n  return '/clientapi/editor/complete';\n}\n\nfunction reportPath(data) {\n  const symbol = head(data.symbol);\n\n  return valueReportPath(symbol.id);\n}\n\nfunction valueReportPath(id) {\n  return `/api/editor/value/${id}`;\n}\n\nfunction symbolReportPath(id) {\n  return `/api/editor/symbol/${id}`;\n}\n\nfunction membersPath(id, page = 0, limit = 999) {\n  return [\n    `/api/editor/value/${id}/members`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagesPath(id, page = 0, limit = 999) {\n  return [\n    `/api/editor/value/${id}/usages`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagePath(id) {\n  return `/api/editor/usages/${id}`;\n}\n\nfunction examplePath(id) {\n  return `/api/python/curation/${id}`;\n}\n\nfunction openDocumentationInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}`;\n  return url;\n}\n\nfunction openSignatureInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}%23signature`;\n  return url;\n}\n\nfunction openExampleInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/examples/python/${escapeId(id)}`;\n  return url;\n}\n\nfunction hoverPath(document, position) {\n  position = new vscode.Position(position.line, position.character);\n  const state = md5(document.getText());\n  const filename = document.fileName;\n  const buffer = cleanPath(filename);\n  const pos = document.offsetAt(position);\n  const encoding = 'utf-16';\n  return [\n    `/api/buffer/vscode/${buffer}/${state}/hover`,\n    [\n      `cursor_runes=${pos}`,\n      `offset_encoding=${encoding}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction escapeId(id) {\n  return encodeURI(String(id)).replace(/;/g, '%3B');\n}\n\nfunction cleanPath(p) {\n  return encodeURI(normalizeDriveLetter(p))\n    .replace(/^([a-zA-Z]):/, (m, d) => `/windows/${d}`)\n    .replace(/\\/|\\\\|%5C/g, ':');\n}\n\nfunction serializeRangeForPath(range) {\n  return `${range.start.row}:${range.start.column}/${range.end.row}:${range.end.column}`;\n}\n\nfunction normalizeDriveLetter(str) {\n  return str.replace(/^[a-z]:/, m => m.toUpperCase());\n}\n\nexport {\n  accountPath,\n  completionsPath,\n  examplePath,\n  hoverPath,\n  languagesPath,\n  membersPath,\n  metricsCounterPath,\n  metricsCompletionSelectedPath,\n  normalizeDriveLetter,\n  openDocumentationInWebURL,\n  openExampleInWebURL,\n  openSignatureInWebURL,\n  projectDirPath,\n  reportPath,\n  searchPath,\n  serializeRangeForPath,\n  shouldNotifyPath,\n  settingsPath,\n  signaturePath,\n  statusPath,\n  symbolReportPath,\n  usagePath,\n  usagesPath,\n  valueReportPath,\n};\n","module.exports = require(\"md5\");;","import fs from 'fs';\nimport vscode from 'vscode';\n\nimport { assert } from 'chai';\nimport { withKite, withKiteRoutes } from 'kite-api/test/helpers/kite';\nimport { fakeResponse } from 'kite-api/test/helpers/http';\n\nimport { fixtureURI } from './helpers';\nimport { KiteHoverProvider } from '../src/docs';\n\ndescribe('KiteHoverProvider', () => {\n  let provider;\n\n  beforeEach(() => {\n    provider = new KiteHoverProvider();\n  });\n  withKite({ reachable: true }, () => {\n    describe('for a python function with a definition', () => {\n      withKiteRoutes([\n        [\n          o => /\\/api\\/buffer\\/vscode\\/.*\\/hover/.test(o.path),\n          () => fakeResponse(200, fs.readFileSync(fixtureURI('test/increment.json').toString()))\n        ]\n      ]);\n\n      it('provides a definition item', () => {\n        const uri = vscode.Uri.file(fixtureURI('sample.py'));\n\n        return vscode.workspace.openTextDocument(uri)\n        .then(doc => provider.provideHover(doc, new vscode.Position(19, 13), null))\n        .then(({ contents }) => {\n          assert.equal(contents.length, 1);\n          const contentString = contents[0].value;\n\n          assert.include(contentString, '[Docs](command:kite.copilot-docs-from-position?{\"position\":{\"line\":19,\"character\":13},\"source\":\"Hover\"}');\n          assert.include(contentString, '[Def](command:kite.def?{\"file\":\"sample.py\",\"line\":50,\"source\":\"Hover\"})');\n        });\n      });\n    });\n\n    describe('for a python function with no id and no definition', () => {\n      withKiteRoutes([\n        [\n          o => /\\/api\\/buffer\\/vscode\\/.*\\/hover/.test(o.path),\n          () => fakeResponse(200, fs.readFileSync(fixtureURI('test/increment-no-id-no-def.json').toString()))\n        ]\n      ]);\n\n      it('does not provide links for web and def', () => {\n        const uri = vscode.Uri.file(fixtureURI('sample.py'));\n\n        return vscode.workspace.openTextDocument(uri)\n        .then(doc => provider.provideHover(doc, new vscode.Position(19, 13), null))\n        .then(({ contents }) => {\n          assert.equal(contents.length, 1);\n          const contentString = contents[0].value;\n\n          assert.include(contentString, '[Docs](command:kite.copilot-docs-from-position?{\"position\":{\"line\":19,\"character\":13},\"source\":\"Hover\"}');\n        });\n      });\n    });\n\n    describe('for a python module', () => {\n      const osjson = fs.readFileSync(fixtureURI('os.json').toString());\n      withKiteRoutes([\n        [\n          o => /\\/api\\/buffer\\/vscode\\/.*\\/hover/.test(o.path),\n          () => fakeResponse(200, osjson)\n        ]\n      ]);\n\n      it('displays the proper kind in the hover', () => {\n        const uri = vscode.Uri.file(fixtureURI('sample.py'));\n\n        return vscode.workspace.openTextDocument(uri)\n        .then(doc => provider.provideHover(doc, new vscode.Position(19, 13), null))\n        .then(({ contents }) => {\n          assert.equal(contents.length, 1);\n          const contentString = contents[0].value;\n\n          assert.include(contentString, '[Docs](command:kite.copilot-docs-from-position?{\"position\":{\"line\":19,\"character\":13},\"source\":\"Hover\"}');\n\n          const data = JSON.parse(osjson);\n          data[\"symbol\"][0][\"value\"].forEach(({ type }) => {\n            assert.include(contentString, type);\n          });\n        });\n      });\n    });\n\n    describe('for an instance', () => {\n      const selfjson = fs.readFileSync(fixtureURI('self.json').toString());\n      withKiteRoutes([\n        [\n          o => /\\/api\\/buffer\\/vscode\\/.*\\/hover/.test(o.path),\n          () => fakeResponse(200, selfjson)\n        ]\n      ]);\n\n      it('displays the proper kind in the hover', () => {\n        const uri = vscode.Uri.file(fixtureURI('sample.py'));\n\n        return vscode.workspace.openTextDocument(uri)\n        .then(doc => provider.provideHover(doc, new vscode.Position(19, 13), null))\n        .then(({ contents }) => {\n          assert.equal(contents.length, 1);\n          const contentString = contents[0].value;\n\n          assert.include(contentString, \"[Docs](command:kite.copilot-docs-from-position\");\n          assert.include(contentString, '\"position\":{\"line\":19,\"character\":13}');\n\n          const data = JSON.parse(selfjson);\n          data[\"symbol\"][0][\"value\"].forEach(({ type }) => {\n            assert.include(contentString, type);\n          });\n        });\n      });\n    });\n\n    describe('when the endpoint returns a 404', () => {\n      withKiteRoutes([\n        [\n          o => /\\/api\\/buffer\\/vscode\\/.*\\/hover/.test(o.path),\n          () => fakeResponse(404)\n        ]\n      ]);\n\n      it('returns undefined', () => {\n        const uri = vscode.Uri.file(fixtureURI('sample.py'));\n\n        return vscode.workspace.openTextDocument(uri)\n        .then(doc => provider.provideHover(doc, new vscode.Position(19, 13), null))\n        .then(res => assert.equal(res, undefined));\n      });\n    });\n  });\n});\n","'use strict';\n\nimport {\n  Disposable,\n  Hover,\n  MarkdownString,\n  Position,\n  TextDocument,\n  commands,\n  window,\n} from 'vscode';\nimport * as KiteAPI from \"kite-api\";\n\nimport NotificationsManager from \"./notifications\";\n\nimport { ICommandRegistrant } from './interfaces'\nimport metrics from \"./metrics\";\nimport { hoverPath } from './urls';\nimport {\n  compact,\n  escapeCommandArguments,\n  kiteOpen,\n  promisifiedKiteAPIRequest,\n} from './utils';\nimport { symbolName, symbolKindMarkdown } from './data-utils';\n\nenum Sources {\n  Command = \"Command\",\n  Hover = \"Hover\",\n}\n\nexport class DocsCommands implements ICommandRegistrant {\n  register(): Disposable[] {\n    const ret = [];\n    ret.push(commands.registerCommand(\"kite.docs-at-cursor\", DocsCommands.docsAtCursor));\n    ret.push(commands.registerCommand(\"kite.copilot-docs-from-position\", DocsCommands.copilotDocsFromPos));\n    return ret;\n  }\n\n  static async docsAtCursor() {\n    const editor = window.activeTextEditor;\n    if (editor) {\n      const pos = editor.selection.active;\n      const path = hoverPath(editor.document, pos);\n\n      try {\n        const resp = await KiteAPI.request({ path });\n        if (resp.statusCode === 200) {\n          commands.executeCommand(\"kite.copilot-docs-from-position\", {\n            position: pos,\n            source: Sources.Command\n          });\n        }\n      } catch(e) {\n        NotificationsManager.notifyFromError(e);\n      }\n    }\n  }\n\n  static async copilotDocsFromPos(args: { position: Position, source: Sources }): Promise<void> {\n    metrics.track(`${args.source} See info clicked`);\n    const doc = window.activeTextEditor.document;\n    const path = hoverPath(doc, args.position);\n    try {\n      const jdata = await promisifiedKiteAPIRequest({ path });\n      const data = JSON.parse(jdata);\n      kiteOpen(`kite://docs/${data.symbol[0].id}`);\n    } catch(e) {\n      NotificationsManager.notifyFromError(e);\n    }\n  }\n}\n\nexport class KiteHoverProvider {\n  async provideHover(doc: TextDocument, position: Position): Promise<Hover | void> {\n    const path = hoverPath(doc, position);\n\n    try {\n      const jdata = await promisifiedKiteAPIRequest({ path });\n      const data = JSON.parse(jdata);\n      if (data && data.symbol && data.symbol.length) {\n        const [symbol] = data.symbol;\n\n        const docsLink = `[Docs](command:kite.copilot-docs-from-position?${escapeCommandArguments({\n          position,\n          source: Sources.Hover,\n        })})`;\n\n        let defLink: string;\n        if (data && data.report && data.report.definition && data.report.definition.filename !== '') {\n          const defData = escapeCommandArguments({\n            file: data.report.definition.filename,\n            line: data.report.definition.line,\n            source: Sources.Hover,\n          });\n          defLink = `[Def](command:kite.def?${defData})`;\n        }\n\n        const content = new MarkdownString(`⟠&nbsp;&nbsp;__${symbolName(symbol).replace('_', '\\\\_')}__:&nbsp;${symbolKindMarkdown(symbol)}&nbsp;&nbsp;&nbsp;&nbsp;${docsLink}${defLink ? '&nbsp;&nbsp;' + defLink : ''}`);\n        content.isTrusted = true;\n\n        return new Hover(compact([content]));\n      }\n    } catch(err) {\n      // Endpoint can 503 for paywall locked or 404 for not found symbol. Ignore those.\n      const expected = err.data && (err.data.responseStatus === 503 || err.data.responseStatus === 404)\n      if (!expected) {\n        console.log(err, err.data)\n      }\n    }\n  }\n}\n","import vscode from \"vscode\";\nimport open from \"open\";\n\nimport metrics from \"./metrics\";\n\nimport KiteAPI from \"kite-api\";\n\nexport default class NotificationsManager {\n  constructor() {\n    this.shownNotifications = {};\n  }\n\n  showErrorMessage(message, ...actions) {\n    if (!this.shownNotifications[message]) {\n      this.shownNotifications[message] = true;\n      return vscode.window.showErrorMessage(message, ...actions).then(item => {\n        delete this.shownNotifications[message];\n        return item;\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  // notifyFromError takes an error from a request and parses it\n  // If it matches the expected presentational API, it will notify\n  // using the message. Otherwise it notifies using the defaultMessage\n  // if it's passed one.\n  static async notifyFromError(err, defaultMessage) {\n    function tryNotifyDefault() {\n      if (defaultMessage) {\n        vscode.window.showWarningMessage(defaultMessage)\n      }\n    }\n    if (!err.data) {\n      tryNotifyDefault()\n      return\n    }\n\n    const { state, responseData } = err.data;\n    if (!responseData) {\n      tryNotifyDefault()\n      return\n    }\n\n    if (state && state <= KiteAPI.STATES.UNREACHABLE) {\n      vscode.window.showWarningMessage(\"Kite could not be reached. Please check that Kite engine is running.\");\n      return;\n    }\n\n    try {\n      const { notification: notif, message } = JSON.parse(responseData);\n      if (notif) {\n        // Since warning messages don't have a title, join it with body\n        let title = notif.title;\n        if (title !== \"\" && !title.endsWith('.')) {\n          title += \".\";\n        }\n        const buttonsText = notif.buttons.map(button => button.text)\n        vscode.window\n          .showWarningMessage([title, notif.body].join(\" \"), ...buttonsText)\n          .then(selectedText => {\n            const selectedButton = notif.buttons.find(button => button.text == selectedText);\n            switch(selectedButton.action) {\n              case \"open\":\n                open(selectedButton.link)\n              case \"dismiss\":\n                // no-op closes\n            }\n          })\n      } else if (message) {\n        vscode.window.showWarningMessage(message);\n      } else {\n        tryNotifyDefault();\n      }\n    } catch {\n      tryNotifyDefault();\n    }\n  }\n\n  static showWelcomeNotification(config, openKiteTutorial) {\n    vscode.window\n      .showInformationMessage(\n        \"Welcome to Kite for VS Code\",\n        \"Learn how to use Kite\",\n        \"Don't show this again\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Learn how to use Kite\":\n            open(\"http://help.kite.com/category/46-vs-code-integration\");\n            break;\n          case \"Don't show this again\":\n            config.update(\"showWelcomeNotificationOnStartup\", false, true);\n            break;\n        }\n      });\n    KiteAPI.getKiteSetting(\"has_done_onboarding\")\n      .then(hasDone => !hasDone && openKiteTutorial('python'));\n  }\n\n  static showKiteInstallNotification() {\n    metrics.track(\"vscode_kite_installer_notification_shown\");\n    vscode.window\n      .showInformationMessage(\n        \"Kite requires the Kite Engine backend to provide completions and documentation. Please install it to use Kite.\",\n        \"Install\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Install\":\n            open(\"https://www.kite.com/install/?utm_medium=editor&utm_source=vscode\");\n            metrics.track(\"vscode_kite_installer_github_link_clicked\");\n            break;\n        }\n      });\n  }\n\n  static showKiteDownloadingNotification() {\n    metrics.track(\"vscode_kite_downloading_notification_shown\");\n    vscode.window\n      .showInformationMessage(\n        \"Kite ships with a standalone application called the Copilot that can show you documentation while you code. The Copilot will launch automatically after Kite is finished installing.\",\n        \"OK\",\n        \"Learn More\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"OK\":\n            break;\n          case \"Learn More\":\n            open(\"https://www.kite.com/copilot/\");\n            break;\n        }\n      });\n  }\n\n  static showKiteInstallErrorNotification() {\n    metrics.track(\"vscode_kite_downloading_failed_notification_shown\");\n    vscode.window\n      .showErrorMessage(\n        \"There was an error installing the Kite Engine, which is required for Kite to provide completions and documentation. Please install it to use Kite.\",\n        \"Install\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Install\":\n            open(\"https://www.kite.com/install/?utm_medium=editor&utm_source=vscode\");\n            metrics.track(\"vscode_kite_installer_github_link_clicked\");\n            break;\n        }\n      });\n  }\n}\n","module.exports = require(\"open\");;","\"use strict\";\n\nimport os from 'os';\nimport vscode from 'vscode';\nimport crypto from 'crypto';\nimport mixpanel from 'mixpanel';\n\nimport Logger from \"kite-connector/lib/logger\";\nimport localconfig from \"./localconfig.js\";\nimport { metricsCounterPath, metricsCompletionSelectedPath } from \"./urls\";\nimport { promisifiedKiteAPIRequest } from './utils'\n\nconst OS_VERSION = os.type() + \" \" + os.release();\n\nconst EDITOR_UUID = vscode.env.machineId;\n\nconst MIXPANEL_TOKEN = \"fb6b9b336122a8b29c60f4c28dab6d03\";\n\nconst mpClient = mixpanel.init(MIXPANEL_TOKEN, {\n  protocol: \"https\",\n});\n\n// Generate a unique ID for this user and save it for future use.\nfunction distinctID() {\n  var id = localconfig.get(\"distinctID\");\n  if (id === undefined) {\n    // use the atom UUID\n    id = EDITOR_UUID || crypto.randomBytes(32).toString(\"hex\");\n    localconfig.set(\"distinctID\", id);\n  }\n  return id;\n}\n\nfunction sendCompletionSelected(lang, completion) {\n  if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n\n  const path = metricsCompletionSelectedPath();\n\n  return promisifiedKiteAPIRequest(\n    {\n      path,\n      method: \"POST\"\n    },\n    JSON.stringify({\n      editor: 'vscode',\n      language: lang,\n      completion: completion\n    })\n  );\n}\n\nfunction sendFeatureMetric(name) {\n  if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n\n  const path = metricsCounterPath();\n\n  Logger.debug(\"feature metric:\", name);\n\n  return promisifiedKiteAPIRequest(\n    {\n      path,\n      method: \"POST\"\n    },\n    JSON.stringify({\n      name,\n      value: 1\n    })\n  );\n}\n\nfunction featureRequested(name) {\n  sendFeatureMetric(`vscode_${name}_requested`);\n}\n\nfunction featureFulfilled(name) {\n  sendFeatureMetric(`vscode_${name}_fulfilled`);\n}\n\nfunction getOsName() {\n  switch (os.platform()) {\n    case \"darwin\":\n      return \"macos\";\n    case \"win32\":\n      return \"windows\";\n    case \"linux\":\n      return \"linux\";\n    default:\n      return \"\";\n  }\n}\n\nexport default {\n  distinctID,\n  EDITOR_UUID,\n  OS_VERSION,\n  featureRequested,\n  featureFulfilled,\n  increment: name => sendFeatureMetric(name),\n  getOsName,\n  sendCompletionSelected,\n  track: (event, props) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(`tracking ${event}`, props);\n      return;\n    }\n\n    const eventData = {\n      distinct_id: distinctID(),\n      editor_uuid: EDITOR_UUID,\n      os_name: os.type(),\n      os_release: os.release(),\n    };\n\n    for(var key in props) {\n      eventData[key] = props[key];\n    }\n\n    mpClient.track(event, eventData);\n  },\n};\n","module.exports = require(\"crypto\");;","module.exports = require(\"mixpanel\");;","\"use strict\";\n\nimport fs from 'fs';\nimport os from 'os';\nimport path from 'path';\n\nimport Logger from \"kite-connector/lib/logger\";\nconst legacyConfigDir = path.join(os.homedir(), \".kite\");\nconst legacyConfigPath = path.join(legacyConfigDir, \"kite-config.json\");\n\nconst configDir =\n  os.platform() === \"win32\"\n    ? path.join(process.env.LOCALAPPDATA, \"Kite\")\n    : path.join(os.homedir(), \".kite\");\n\nconst configPath = path.join(configDir, \"kite-vscode-config.json\");\n\nlet config = null;\n\ntry {\n  if (fs.existsSync(legacyConfigPath)) {\n    Logger.verbose(\n      `initializing localconfig from legacy path ${legacyConfigPath}.`\n    );\n    config = JSON.parse(\n      fs.readFileSync(legacyConfigPath, { encoding: \"utf8\" })\n    );\n    fs.unlinkSync(legacyConfigPath);\n    if (fs.readdirSync(legacyConfigDir).length === 0) {\n      fs.rmdirSync(legacyConfigDir);\n    }\n  } else {\n    Logger.verbose(`initializing localconfig from ${configPath}.`);\n    config = JSON.parse(fs.readFileSync(configPath, { encoding: \"utf8\" }));\n  }\n} catch (err) {\n  config = {};\n}\n\nfunction persist() {\n  const str = JSON.stringify(config, null, 2); // serialize with whitespace for human readability\n  if (!fs.existsSync(configDir)) {\n    fs.mkdirSync(configDir);\n  }\n  fs.writeFile(configPath, str, \"utf8\", err => {\n    if (err) {\n      Logger.error(`failed to persist localconfig to ${configPath}`, err);\n    }\n  });\n}\n\n// get gets a value from storage\nfunction get(key, fallback) {\n  return key in config ? config[key] : fallback;\n}\n\n// set assigns a value to storage and asynchronously persists it to disk\nfunction set(key, value) {\n  config[key] = value;\n  persist(); // will write to disk asynchronously\n}\n\nexport default {\n  get,\n  set,\n};\n","'use strict';\n\nimport { compact, flatten, head, last, uniq, detailGet, detailLang, detailNotEmpty, getFunctionDetails } from './utils';\n\nconst idIsEmpty = (id) =>\n  !id || id === '' ||\n  (id.indexOf(';') !== -1 && id.split(';')[1] === '');\n\nconst isFunctionKind = kind => ['function', 'type'].includes(kind);\n\nconst parameterName = (p, prefix = '', w) =>\n  p\n    ? (\n      w\n        ? `<${w}>${prefix}<span class=\"parameter-name\">${p.name}</span></${head(w.split(/\\s/g))}>`\n        : `${prefix}<span class=\"parameter-name\">${p.name}</span>`\n    )\n    : undefined;\n\nconst parameterDefault = (p) => {\n  if (!p) { return ''; }\n\n  const lang = detailLang(p);\n\n  switch (lang) {\n    case 'python':\n    case 'javascript':\n      return detailNotEmpty(p, 'default_value')\n        ? `=${head(detailGet(p, 'default_value')).repr}`\n        : '';\n    default:\n      return '';\n  }\n};\n\nconst parameterType = (p, prefix = '') =>\n  p.inferred_value && p.inferred_value\n    ? `${prefix}${uniq(compact(p.inferred_value).map(v =>\n      `<a href='command:kite.navigate?\"value/${v.type_id}\"' class=\"parameter-type\">${v.type}</a>`)).join('<i>|</i>')}`\n    : '';\n\nconst parameterTypeLink = parameterType;\n\nconst parameterValue = p =>\n  `${parameterName(p)}${parameterType(p, ':')}${parameterDefault(p)}`;\n\nconst parameters = (d, withType = true) =>\n  d.parameters\n    ? (withType\n      ? d.parameters.map(parameterValue)\n      : d.parameters.map(p => `${parameterName(p)}${parameterDefault(p)}`))\n    : [];\n\nconst gatherParameters = (detail, withType) => {\n  const lang = detailLang(detail);\n  switch (lang) {\n    case 'python':\n      return [\n        parameters(detail, withType),\n        parameterName(detailGet(detail, 'vararg'), '*'),\n        parameterName(detailGet(detail, 'kwarg'), '**'),\n      ];\n    case 'javascript':\n      return [\n        parameters(detail, withType),\n        parameterName(detailGet(detail, 'rest'), '…'),\n      ];\n    default:\n      return [\n        parameters(detail, withType),\n      ];\n  }\n};\n\nconst signature = (data, withType = true, current = -1) => {\n  const detail = getFunctionDetails(data);\n  return detail\n    ? `(<span class=\"signature\">${\n      compact(flatten(gatherParameters(detail, withType)))\n        .map((p, i, a) => {\n          const s = i === a.length - 1 ? '' : ', ';\n          return i === current\n            ? `<span class=\"parameter parameter-highlight\">${p}${s}</span>`\n            : `<span class=\"parameter\">${p}${s}</span>`;\n        })\n        .join('')\n    }</span>)`\n    : '(<span class=\"signature\"></span>)';\n};\n\nconst callParameterName = (parameter) => parameter.name;\n\nconst callKwargParameter = (parameter) => {\n  const example = head(parameter.types.filter(t => t.examples));\n  return example\n    ? compact([\n      callParameterName(parameter),\n      head(example.examples).replace(/\"'/g, \"'\").replace(/'\"/g, \"'\"),\n    ]).join('=')\n    : callParameterName(parameter);\n};\n\nconst callKwargParameters = (signature) =>\n  detailNotEmpty(signature, 'kwargs')\n    ? detailGet(signature, 'kwargs').map(p => callKwargParameter(p)).join(', ')\n    : null;\n\nconst callSignature = (data) =>\n  compact(flatten([\n    (data.args || []).map(callParameterName),\n    callKwargParameters(data),\n  ]))\n    .join(', ');\n\nconst valueName = value =>\n  last(last(value.repr.replace(/\\(|\\)/g, '').split('|').map(s => s.trim().split(':'))));\n\nconst valueNameFromId = value => last(value.id.split(/[;.]/g));\n\nconst valueLabel = (value, current) => {\n  if (isFunctionKind(value.kind)) {\n    return valueName(value) + signature(value, true, current);\n  } else {\n    return (value.kind === 'instance'\n      ? valueNameFromId(value)\n      : valueName(value));\n  }\n};\n\nconst symbolName = s => {\n  const value = head(s.value);\n  return value.kind === 'instance'\n    ? s.name\n    : valueName(value);\n};\n\nconst symbolLabel = (s, current) => {\n  const value = head(s.value);\n  return isFunctionKind(value.kind)\n    ? symbolName(s) + signature(value, true, current)\n    : symbolName(s);\n};\n\nconst memberLabel = (s) => {\n  const value = s.value ? head(s.value) : {};\n  const name = `<span class=\"repr\">${s.name}</span>`;\n  return isFunctionKind(value.kind) ? name + '()' : name;\n};\n\nconst wrapType = (o) => {\n  const { name, id } = o || {};\n  return name\n    ? (!idIsEmpty(id)\n      ? `<a href='command:kite.navigate?\"value/${id}\"' class=\"type-value\">${name}</a>`\n      : `<span class=\"type-value\">${name}</span>`\n    )\n    : null;\n};\n\nconst unionType = (vs, map) =>\n  uniq(flatten(compact(vs.map(map))).map(wrapType)).join(' | ');\n\nconst returnType = (v) =>\n  v && v.length ? `-> <span class=\"return-type\">${v}</span>` : '';\n\nconst symbolValue = s => head(s.value);\n\nconst symbolKindMarkdown = s => {\n  const value = symbolValue(s);\n  if (value.kind !== 'instance') {\n    return `[ _${value.kind}_ ]`;\n  }\n  let types = uniq(s.value.filter(v => v.kind === 'instance').map(v => `_${v.type.replace('_', '\\\\_')}_`));\n  return `[ ${types.join(' | ')} ]`;\n};\n\nconst reportFromHover = hover => {\n  const symbol = head(hover.symbol);\n  const data = {\n    symbol,\n    report: hover.report,\n  };\n  if (data.value && data.value.id === '') { data.value.id = symbol.name; }\n  return data;\n};\n\nconst extractInstanceType = v => ({ name: v.type, id: v.type_id });\nconst extractFunctionType = v => {\n  const detail = getFunctionDetails(v);\n  return detail && detail.return_value\n    ? detail.return_value.map(v => ({ name: v.type, id: v.type_id }))\n    : [];\n};\n\nconst symbolType = s => unionType(s.value, extractInstanceType);\n\nconst symbolReturnType = s => unionType(s.value, extractFunctionType);\n\nconst valueType = value =>\n  isFunctionKind(value.kind)\n    ? returnType(unionType([value], extractFunctionType))\n    : unionType([value], extractInstanceType);\n\nconst symbolId = (symbol) =>\n  symbol.id !== ''\n    ? symbol.id\n    : head(symbol.value).id;\n\nexport {\n  callSignature,\n  memberLabel,\n  parameterName,\n  parameterType,\n  parameterDefault,\n  parameterValue,\n  parameterTypeLink,\n  reportFromHover,\n  returnType,\n  signature,\n  symbolId,\n  symbolKindMarkdown,\n  symbolLabel,\n  symbolName,\n  symbolType,\n  symbolValue,\n  unionType,\n  valueLabel,\n  valueName,\n  valueNameFromId,\n  valueType,\n  idIsEmpty,\n  isFunctionKind,\n  symbolReturnType,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(32);\n"],"sourceRoot":""}